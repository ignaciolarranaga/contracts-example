enum ContractStatus {
  NEW
  IN_PROGRESS
  TERMINATED
}

type Contract implements Audited @aws_cognito_user_pools {
  id: ID!
  contractorId: ID!
  clientId: ID!
  jobIds: [ID!]!
  terms: String!
  status: ContractStatus!

  createdAt: AWSDateTime!
  lastModifiedAt: AWSDateTime!
  createdBy: String!
  lastModifiedBy: String!
}

## Inputs

# A contract is created by a contractor with a client
input CreateContractInput {
  clientId: ID!
  jobIds: [ID!]!
  terms: String!
}

## Connections

type ContractConnection @aws_cognito_user_pools {
  items: [Contract!]
  nextToken: String
}

## Queries

extend type Query {
  getContract(id: ID!): Contract @aws_cognito_user_pools
  listContracts(limit: Int, nextToken: String): ContractConnection @aws_cognito_user_pools
}

## Mutations

extend type Mutation {
  createContract(input: CreateContractInput!): Contract @aws_cognito_user_pools
}
